(function(t){function e(e){for(var o,n,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)n=i[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,n=1;n<a.length;n++){var i=a[n];0!==r[i]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var o={},n={app:0},r={app:0},s=[];function i(t){return c.p+"js/"+({ChackOrder:"ChackOrder",RoomPage:"RoomPage"}[t]||t)+"."+{ChackOrder:"9fce0a37",RoomPage:"69256bc5"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={ChackOrder:1,RoomPage:1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var o="css/"+({ChackOrder:"ChackOrder",RoomPage:"RoomPage"}[t]||t)+"."+{ChackOrder:"05409a35",RoomPage:"f1e4f498"}[t]+".css",r=c.p+o,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===r))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===o||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete n[t],f.parentNode.removeChild(f),a(s)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){n[t]=0})));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise((function(e,a){o=r[t]=[e,a]}));e.push(o[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var a=r[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",d.name="ChunkLoadError",d.type=o,d.request=n,a[1](d)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(a,o,function(e){return t[e]}.bind(null,o));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"21bb":function(t,e,a){"use strict";var o=a("2dad"),n=a.n(o);n.a},"2dad":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=a("bc3a"),r=a.n(n),s=a("a7fe"),i=a.n(s),c=a("5887"),u=a.n(c),l=a("9062"),d=a.n(l),f=(a("e40d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("Alert",{attrs:{active:t.isAlert,"res-data":t.bookingResData},on:{"update:active":function(e){t.isAlert=e},"update:resData":function(e){t.bookingResData=e},"update:res-data":function(e){t.bookingResData=e}}}),a("router-view"),a("Footer")],1)}),m=[],p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},g=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer"},[o("div",{staticClass:"footer-item"},[t._v("Reservation")]),o("div",{staticClass:"footer-item"},[t._v("About TheHouse")]),o("div",{staticClass:"footer-item"},[t._v("FAQ")]),o("div",{staticClass:"footer-item"},[t._v("Contact us")]),o("div",{staticClass:"footer-item"},[o("img",{attrs:{src:a("ed05"),alt:""}})])])}],v={name:"Footer"},h=v,O=a("2877"),b=Object(O["a"])(h,p,g,!1,null,null,null),A=b.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.active?o("div",{staticClass:"alert"},[o("div",{staticClass:"close-btn",on:{click:t.closeAlert}},[t._v("Ã—")]),o("div",{staticClass:"alert-message"},[o("div",{staticClass:"message-title"},[t._v(" "+t._s(t.alertMessage.title)+" ")]),o("div",{staticClass:"message-context"},[t._v(" "+t._s(t.alertMessage.context)+" ")])]),o("div",{staticClass:"alert-icon"},[200===t.resData.status?o("img",{attrs:{src:a("9a97")}}):t._e(),400===t.resData.status?o("img",{attrs:{src:a("983c")}}):t._e()]),o("div",{staticClass:"alert-btn"},[o("button",{staticClass:"btn",on:{click:t.closeAlert}},[t._v("OK")])])]):t._e()},E=[],D={name:"Alert",props:{active:{type:Boolean,required:!0,default:!0},resData:{default:{status:400}}},computed:{alertMessage:function(){var t=200===this.resData.status?"Success!":"Oops!",e="Have a nice trip :)",a=this.resData.resMsg||"Someing Error!",o=200===this.resData.status?e:a;return{title:t,context:o}}},methods:{closeAlert:function(){this.$store.dispatch("alert",!1)}}},P=D,R=(a("bcda"),Object(O["a"])(P,_,E,!1,null,null,null)),T=R.exports,C={components:{Footer:A,Alert:T},computed:{isLoading:function(){return this.$store.state.isLoading},isAlert:function(){return this.$store.state.alert},bookingResData:function(){return this.$store.state.bookingResData}}},N=C,k=(a("bec5"),Object(O["a"])(N,f,m,!1,null,null,null)),y=k.exports,L=(a("d3b7"),a("8c4f")),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t._m(0),a("div",{staticClass:"rooms"},t._l(t.rooms,(function(e){return a("router-link",{key:e.id,staticClass:"room-card",attrs:{to:{name:"RoomPage",params:{roomID:e.id}}}},[a("img",{staticClass:"card-img",attrs:{src:e.imageUrl,alt:""}}),a("div",{staticClass:"card-title"},[t._v(t._s(e.name))])])})),1)])},S=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"banner"},[o("span",{staticClass:"banner-logo"},[o("img",{attrs:{src:a("bae7"),alt:""}})])])}],w={name:"Home",created:function(){this.getRooms()},methods:{getRooms:function(){this.$store.dispatch("getRooms")}},computed:{rooms:function(){return this.$store.state.rooms.items}}},j=w,x=(a("21bb"),Object(O["a"])(j,I,S,!1,null,null,null)),B=x.exports;o["default"].use(L["a"]);var U=[{path:"/",name:"Home",component:B},{path:"/room/:roomID",name:"RoomPage",component:function(){return a.e("RoomPage").then(a.bind(null,"c84b"))}},{path:"/order/:roomID",name:"ChackOrder",component:function(){return a.e("ChackOrder").then(a.bind(null,"a00f"))}}],G=new L["a"]({routes:U}),M=G,$=(a("99af"),a("b0c0"),a("2f62"));o["default"].use($["a"]);var V=new $["a"].Store({strict:!0,state:{rooms:[],roomData:null,isLoading:!1,alert:!1,pickDateRange:{start:null,end:null},totleNight:{},bookingResData:{status:400,data:{message:""}}},mutations:{LOADING:function(t,e){t.isLoading=e},ALERT:function(t,e){t.alert=e},SETROOMSDATA:function(t,e){t.rooms=e},SETONEROOMDATA:function(t,e){t.roomData=e},UPPICKDATE:function(t,e){t.pickDateRange=e},TOTLENIGHT:function(t,e){t.totleNight=e},BOOKINGRESDATA:function(t,e){t.bookingResData=e}},actions:{alert:function(t,e){var a=t.commit;a("ALERT",e)},getRooms:function(t){var e=t.commit,a="".concat(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIPATH,"/rooms");e("LOADING",!0),o["default"].axios.get(a,{headers:{Authorization:"Bearer ".concat(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APITOKEN)}}).then((function(t){e("SETROOMSDATA",t.data),e("LOADING",!1)}))},getOneRoom:function(t,e){var a="".concat(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIPATH,"/room/").concat(e);t.commit("LOADING",!0),o["default"].axios.get(a,{headers:{Authorization:"Bearer ".concat(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APITOKEN)}}).then((function(e){t.commit("SETONEROOMDATA",e.data),t.commit("LOADING",!1)})).catch((function(t){return console.log(t)}))},upBookingDate:function(t,e){var a=t.commit;a("UPPICKDATE",e)},bookingRoom:function(t,e){var a=t.commit,n=t.dispatch,r="".concat(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIPATH,"/room/").concat(e.roomId),s={name:e.name,tel:e.tel,date:e.date},i={headers:{Authorization:"Bearer ".concat(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APITOKEN),accept:"application/json"}};a("LOADING",!0),o["default"].axios.post(r,s,i).then((function(t){var o=t.status;n("getOneRoom",e.roomId),a("BOOKINGRESDATA",{status:o}),a("ALERT",!0),a("LOADING",!1)})).catch((function(t){var e=t.response.status,o=t.response.data.message;a("BOOKINGRESDATA",{status:e,resMsg:o}),a("ALERT",!0),a("LOADING",!1)}))},getTotalNight:function(t,e){var a=t.commit;if(e){var o=e.start.getDay(),n=e.end.getDay(),r=parseInt((e.end-e.start)/1e3/60/60/24,10),s=0,i=0;if(r<=6)o>n?(i+=2,6===o&&(i-=1)):6===n&&(i+=1),s=r-i;else{var c=(r-(7-o+n))/7*2;i+=c,6===o&&(i+=1),6===n&&(i+=1),o<=5&&(i+=2),s=r-i}a("TOTLENIGHT",{weekday:s,weekend:i})}else a("TOTLENIGHT",{weekday:0,weekend:0})}},getters:{},modules:{}});o["default"].config.productionTip=!1,o["default"].use(i.a,r.a),o["default"].use(u.a,{componentPrefix:"vc"}),o["default"].component("Loading",d.a),new o["default"]({router:M,store:V,render:function(t){return t(y)}}).$mount("#app")},"983c":function(t,e,a){t.exports=a.p+"img/icon_error-outline.17435072.svg"},"9a97":function(t,e,a){t.exports=a.p+"img/icon_check-outline.22d89e1a.svg"},b6fa:function(t,e,a){},bae7:function(t,e,a){t.exports=a.p+"img/homepage_logo.0db8bf9d.svg"},bcda:function(t,e,a){"use strict";var o=a("ed71"),n=a.n(o);n.a},bec5:function(t,e,a){"use strict";var o=a("b6fa"),n=a.n(o);n.a},ed05:function(t,e,a){t.exports=a.p+"img/icon_account.b12d2cdf.svg"},ed71:function(t,e,a){}});
//# sourceMappingURL=app.e14f2be9.js.map